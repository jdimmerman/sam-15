(this["webpackJsonpsam-15"]=this["webpackJsonpsam-15"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(9),i=n.n(r),o=(n(14),n(8)),s=n(6),u=n(7),l=n(2),d=(n(15),n.p+"static/media/darth-siena.db68d2e1.png"),b=n.p+"static/media/light-siena.3bee5c62.png",j=n.p+"static/media/grainne.ef132bd0.png",h=n.p+"static/media/ruby.ab404e88.png",f=n(0),m=new URLSearchParams(window.location.search),O=500,p=parseFloat(m.get("meGrowth")||.017),v=parseFloat(m.get("ceilingShrink")||.15),g=parseFloat(m.get("asteroidAcc")||15e-5),x=parseFloat(m.get("successAt")||60),w=parseFloat(m.get("movementAcc")||9e3);var y=function(){var e=c.a.useState(60),t=Object(l.a)(e,2),n=t[0],a=t[1],r=c.a.useCallback((function(e){return e>n?e-=2*Math.random():e<n-100?e+=2*Math.random():e=e+2*Math.random()*2-2,e}),[n]),i=c.a.useCallback((function(){for(var e=[],t=0,n=0;n<O;n++)t=r(t),e.push(t);return e}),[r]),m=c.a.useState(2),y=Object(l.a)(m,2),S=y[0],C=y[1],N=c.a.useState(.05),F=Object(l.a)(N,2),M=F[0],L=F[1],A=c.a.useState(15),E=Object(l.a)(A,2),I=E[0],R=E[1],Y=c.a.useState(i()),B=Object(l.a)(Y,2),T=B[0],U=B[1],z=c.a.useState(i()),D=Object(l.a)(z,2),J=D[0],P=D[1],q=c.a.useState(50),G=Object(l.a)(q,2),K=G[0],W=G[1],H=c.a.useState(100),Q=Object(l.a)(H,2),V=Q[0],X=Q[1],Z=k("ArrowUp"),$=k("ArrowDown"),_=k("ArrowLeft"),ee=k("ArrowRight"),te=c.a.useState([]),ne=Object(l.a)(te,2),ae=ne[0],ce=ne[1],re=c.a.useRef(1),ie=c.a.useRef(),oe=c.a.useState(!1),se=Object(l.a)(oe,2),ue=se[0],le=se[1],de=c.a.useMemo((function(){return ue}),[ue]),be=c.a.useState(""),je=Object(l.a)(be,2),he=je[0],fe=je[1],me=c.a.useState(""),Oe=Object(l.a)(me,2),pe=Oe[0],ve=Oe[1],ge=c.a.useState(!1),xe=Object(l.a)(ge,2),we=xe[0],ye=xe[1],ke=c.a.useState(!0),Se=Object(l.a)(ke,2),Ce=Se[0],Ne=Se[1],Fe=c.a.useCallback((function(){var e=he.trim().toLowerCase().replace(/\s+/g,"");return"frog"===e||"frogbog"===e?(ye(!0),void ve("Yep.")):"ruby"===e?(ye(!0),void ve("Not what we were looking for, but I'll take it.")):"rosa"===e?(ye(!0),void ve("Yeah she know it.")):"siena"===e?(ve("Use her proper name."),void ye(!1)):"grainne"===e?(ve("Oof. You've put me in a tough position. But, like, come on.... Try again"),void ye(!1)):(ve("Try again"),void ye(!1))}),[he]),Me=c.a.useCallback((function(e){for(var t=e[e.length-1],n=Object(u.a)(e.slice(S)),a=0;a<S;a++)n.push(r(t));return n}),[r,S]),Le=c.a.useCallback((function(){U(Me),P(Me)}),[Me]),Ae=c.a.useCallback((function(){Z!==$&&W((function(e){return Z?e-10:e+10})),_!==ee&&X((function(e){return _?e-15:e+10}))}),[$,_,ee,Z]),Ee=c.a.useCallback((function(){Math.random()<M&&ce((function(e){var t=80*Math.random()+10,n=25*Math.random()+5,a=3*Math.random(),c=a>2?j:a>1?b:d;return[].concat(Object(u.a)(e),[{top:t,size:n,left:100,image:c}])}))}),[M]),Ie=c.a.useCallback((function(){ce((function(e){var t,n=[],a=Object(s.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value,r=c.left-.2*S;r<0-c.width||n.push(Object(o.a)(Object(o.a)({},c),{},{left:r}))}}catch(i){a.e(i)}finally{a.f()}return n}))}),[S]),Re=c.a.useCallback((function(){var e=document.querySelectorAll(".piece, .asteroid"),t=document.querySelector(".me").getBoundingClientRect();if(V<0)le(!0);else{var n,a=Object(s.a)(e);try{for(a.s();!(n=a.n()).done;){var c=n.value.getBoundingClientRect();!(t.right<c.left||t.left>c.right||t.bottom<c.top||t.top>c.bottom)&&le(!0)}}catch(r){a.e(r)}finally{a.f()}}}),[V]);return c.a.useEffect((function(){if(!Ce)return ie.current=setInterval((function(){ue?clearInterval(ie.current):(re.current=re.current+1,C(2+Math.ceil(30*re.current/w)),L((function(e){return e+g})),R((function(e){return e+p})),a((function(e){return e-v})),Le(),Ae(),Ie(),Ee(),Re())}),30),function(){return clearInterval(ie.current)}}),[Re,ue,Le,Ee,Ie,Ae,Ce]),Object(f.jsxs)("div",{className:"app",children:[Object(f.jsxs)("div",{className:"you-died",style:{display:de?"block":"none"},children:["You died!",re.current/20>x&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("span",{children:[" You did OK though. So riddle me this: ",Object(f.jsx)("b",{children:"Who is the prettiest girl you know?"})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),!1},children:[Object(f.jsx)("input",{onChange:function(e){return fe(e.target.value)},value:he}),Object(f.jsx)("button",{type:"submit",onClick:Fe,children:"Submit"})]}),Object(f.jsx)("div",{children:Object(f.jsx)("i",{children:pe})})]}),re.current/20<=x&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{children:" Not great."}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{onClick:function(){return window.location.reload()},children:"Restart"})]})]}),Object(f.jsxs)("div",{className:"next-clue",style:{opacity:we?"1":"0"},children:["Your next clue:",Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("b",{children:"You just rode me and my poof to glorious victory. Now come give me a scritch."})]}),Object(f.jsxs)("div",{className:"start-prompt",style:{pointerEvents:Ce?"initial":"none",opacity:Ce?"1":"0"},children:["Surivie to 60 for a clue.",Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{onClick:function(){return Ne(!1)},children:"I'll try but I'm not as good as Jason"}),Object(f.jsx)("br",{}),"(Use arrow keys.)"]}),Object(f.jsx)("div",{className:"clock",children:Math.floor(re.current/20)}),Object(f.jsx)("div",{className:"ceiling",children:T.map((function(e,t){return Object(f.jsx)("div",{className:"piece",style:{width:"".concat(.2,"%"),height:"".concat(100-e,"%")}},t)}))}),Object(f.jsxs)("div",{className:"center",children:[Object(f.jsx)("div",{className:"me",style:{width:I,height:I,top:K,left:V},children:Object(f.jsx)("img",{src:h,alt:""})}),ae.map((function(e,t){return Object(f.jsx)("div",{className:"asteroid",style:{top:"".concat(e.top,"%"),left:"".concat(e.left,"%"),width:e.size,height:e.size},children:Object(f.jsx)("img",{src:e.image,alt:""})},t)}))]}),Object(f.jsx)("div",{className:"floor",children:J.map((function(e,t){return Object(f.jsx)("div",{className:"piece",style:{width:"".concat(.2,"%"),height:"".concat(100-e,"%")}},t)}))})]})};function k(e){var t=c.a.useState(!1),n=Object(l.a)(t,2),a=n[0],r=n[1];function i(t){t.key===e&&r(!0)}var o=function(t){t.key===e&&r(!1)};return c.a.useEffect((function(){return window.addEventListener("keydown",i),window.addEventListener("keyup",o),function(){window.removeEventListener("keydown",i),window.removeEventListener("keyup",o)}}),[]),a}var S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(y,{})}),document.getElementById("root")),S()}},[[17,1,2]]]);
//# sourceMappingURL=main.54d4a2d4.chunk.js.map