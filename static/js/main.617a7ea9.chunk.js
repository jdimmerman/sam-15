(this["webpackJsonpsam-15"]=this["webpackJsonpsam-15"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(9),o=n.n(r),i=(n(14),n(8)),s=n(6),u=n(7),l=n(2),d=(n(15),n(0)),b=new URLSearchParams(window.location.search),j=500,h=b.get("successAt")||60;var f=function(){var e=c.a.useState(60),t=Object(l.a)(e,2),n=t[0],a=t[1],r=c.a.useCallback((function(e){return e>n?e-=2*Math.random():e<n-100?e+=2*Math.random():e=e+2*Math.random()*2-2,e}),[n]),o=c.a.useCallback((function(){for(var e=[],t=0,n=0;n<j;n++)t=r(t),e.push(t);return e}),[r]),b=c.a.useState(2),f=Object(l.a)(b,2),v=f[0],m=f[1],p=c.a.useState(.05),g=Object(l.a)(p,2),w=g[0],x=g[1],y=c.a.useState(15),k=Object(l.a)(y,2),S=k[0],C=k[1],N=c.a.useState(o()),M=Object(l.a)(N,2),L=M[0],E=M[1],I=c.a.useState(o()),R=Object(l.a)(I,2),A=R[0],B=R[1],F=c.a.useState(50),Y=Object(l.a)(F,2),T=Y[0],D=Y[1],U=c.a.useState(100),J=Object(l.a)(U,2),P=J[0],q=J[1],K=O("ArrowUp"),W=O("ArrowDown"),z=O("ArrowLeft"),G=O("ArrowRight"),H=c.a.useState([]),Q=Object(l.a)(H,2),V=Q[0],X=Q[1],Z=c.a.useRef(1),$=c.a.useRef(),_=c.a.useState(!1),ee=Object(l.a)(_,2),te=ee[0],ne=ee[1],ae=c.a.useMemo((function(){return te}),[te]),ce=c.a.useState(""),re=Object(l.a)(ce,2),oe=re[0],ie=re[1],se=c.a.useState(""),ue=Object(l.a)(se,2),le=ue[0],de=ue[1],be=c.a.useState(!1),je=Object(l.a)(be,2),he=je[0],fe=je[1],Oe=c.a.useState(!0),ve=Object(l.a)(Oe,2),me=ve[0],pe=ve[1],ge=c.a.useCallback((function(){var e=oe.trim().toLowerCase().replace(/\s+/g,"");return"frog"===e||"frogbog"===e?(fe(!0),void de("Yep.")):"ruby"===e?(fe(!0),void de("Not what we were looking for, but I'll take it.")):"rosa"===e?(fe(!0),void de("Yeah she know it.")):"siena"===e?(de("Use her proper name."),void fe(!1)):"grainne"===e?(de("Oof. You've put me in a tough position. But, like, come on.... Try again"),void fe(!1)):(de("Try again"),void fe(!1))}),[oe]),we=c.a.useCallback((function(e){for(var t=e[e.length-1],n=Object(u.a)(e.slice(v)),a=0;a<v;a++)n.push(r(t));return n}),[r,v]),xe=c.a.useCallback((function(){E(we),B(we)}),[we]),ye=c.a.useCallback((function(){K!==W&&D((function(e){return K?e-10:e+10})),z!==G&&q((function(e){return z?e-15:e+10}))}),[W,z,G,K]),ke=c.a.useCallback((function(){Math.random()<w&&X((function(e){var t=80*Math.random()+10,n=10*Math.random()+5,a=50*Math.random()+5;return[].concat(Object(u.a)(e),[{top:t,height:a,width:n,left:100}])}))}),[w]),Se=c.a.useCallback((function(){X((function(e){var t,n=[],a=Object(s.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value,r=c.left-.2*v;r<0-c.width||n.push(Object(i.a)(Object(i.a)({},c),{},{left:r}))}}catch(o){a.e(o)}finally{a.f()}return n}))}),[v]),Ce=c.a.useCallback((function(){var e=document.querySelectorAll(".piece, .asteroid"),t=document.querySelector(".me").getBoundingClientRect();if(P<0)ne(!0);else{var n,a=Object(s.a)(e);try{for(a.s();!(n=a.n()).done;){var c=n.value.getBoundingClientRect();!(t.right<c.left||t.left>c.right||t.bottom<c.top||t.top>c.bottom)&&ne(!0)}}catch(r){a.e(r)}finally{a.f()}}}),[P]);return c.a.useEffect((function(){if(!me)return $.current=setInterval((function(){te?clearInterval($.current):(Z.current=Z.current+1,m(2+Math.ceil(30*Z.current/4e3)),x((function(e){return e+1e-4})),C((function(e){return e+.02})),a((function(e){return e-.1})),xe(),ye(),Se(),ke(),Ce())}),30),function(){return clearInterval($.current)}}),[Ce,te,xe,ke,Se,ye,me]),Object(d.jsxs)("div",{className:"app",children:[Object(d.jsxs)("div",{className:"you-died",style:{display:ae?"block":"none"},children:["You died!",Z.current/20>h&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("span",{children:[" You did OK though. So riddle me this: ",Object(d.jsx)("b",{children:"Who is the prettiest girl you know?"})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),!1},children:[Object(d.jsx)("input",{onChange:function(e){return ie(e.target.value)},value:oe}),Object(d.jsx)("button",{type:"submit",onClick:ge,children:"Submit"})]}),Object(d.jsx)("div",{children:Object(d.jsx)("i",{children:le})})]}),Z.current/20<=h&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{children:" Not great."}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:function(){return window.location.reload()},children:"Restart"})]})]}),Object(d.jsx)("div",{className:"next-clue",style:{opacity:he?"1":"0"},children:"Your next clue: blah blah blah TBD"}),Object(d.jsxs)("div",{className:"start-prompt",style:{pointerEvents:me?"initial":"none",opacity:me?"1":"0"},children:["Surivie to 60 for a clue.",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:function(){return pe(!1)},children:"I'll try but I'm not as good as Jason"}),Object(d.jsx)("br",{}),"(Use arrow keys.)"]}),Object(d.jsx)("div",{className:"clock",children:Math.floor(Z.current/20)}),Object(d.jsx)("div",{className:"ceiling",children:L.map((function(e,t){return Object(d.jsx)("div",{className:"piece",style:{width:"".concat(.2,"%"),height:"".concat(100-e,"%")}},t)}))}),Object(d.jsxs)("div",{className:"center",children:[Object(d.jsx)("div",{className:"me",style:{width:S,height:S,top:T,left:P}}),V.map((function(e,t){return Object(d.jsx)("div",{className:"asteroid",style:{top:"".concat(e.top,"%"),left:"".concat(e.left,"%"),width:e.width,height:e.height}},t)}))]}),Object(d.jsx)("div",{className:"floor",children:A.map((function(e,t){return Object(d.jsx)("div",{className:"piece",style:{width:"".concat(.2,"%"),height:"".concat(100-e,"%")}},t)}))})]})};function O(e){var t=c.a.useState(!1),n=Object(l.a)(t,2),a=n[0],r=n[1];function o(t){t.key===e&&r(!0)}var i=function(t){t.key===e&&r(!1)};return c.a.useEffect((function(){return window.addEventListener("keydown",o),window.addEventListener("keyup",i),function(){window.removeEventListener("keydown",o),window.removeEventListener("keyup",i)}}),[]),a}var v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root")),v()}},[[17,1,2]]]);
//# sourceMappingURL=main.617a7ea9.chunk.js.map